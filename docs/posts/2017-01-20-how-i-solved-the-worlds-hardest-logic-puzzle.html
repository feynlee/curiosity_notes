<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ziyue Li">
<meta name="dcterms.date" content="2017-01-20">
<meta name="description" content="The logical paths I took to tackle the world’s hardest logic puzzle">

<title>curiosity-notes - How I solved the world’s hardest logic puzzle</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">curiosity-notes</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html">About</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">How I solved the world’s hardest logic puzzle</h1>
                  <div>
        <div class="description">
          The logical paths I took to tackle the world’s hardest logic puzzle
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Information Science</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Ziyue Li </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 20, 2017</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-puzzle" id="toc-the-puzzle" class="nav-link active" data-scroll-target="#the-puzzle">The Puzzle</a></li>
  <li><a href="#step-1.-an-overall-assessment-of-the-problem" id="toc-step-1.-an-overall-assessment-of-the-problem" class="nav-link" data-scroll-target="#step-1.-an-overall-assessment-of-the-problem">Step 1. An Overall Assessment of the Problem:</a></li>
  <li><a href="#step-2.-general-strategy" id="toc-step-2.-general-strategy" class="nav-link" data-scroll-target="#step-2.-general-strategy">Step 2. General Strategy:</a></li>
  <li><a href="#step-3.-deduce-and-construct-question-1" id="toc-step-3.-deduce-and-construct-question-1" class="nav-link" data-scroll-target="#step-3.-deduce-and-construct-question-1">Step 3. Deduce and Construct Question 1</a>
  <ul class="collapse">
  <li><a href="#i.-the-qualities-question-1-needs-to-satisfy" id="toc-i.-the-qualities-question-1-needs-to-satisfy" class="nav-link" data-scroll-target="#i.-the-qualities-question-1-needs-to-satisfy">I. The Qualities Question 1 Needs to Satisfy:</a></li>
  <li><a href="#ii.-construction-of-the-question" id="toc-ii.-construction-of-the-question" class="nav-link" data-scroll-target="#ii.-construction-of-the-question">II. Construction of the Question:</a>
  <ul class="collapse">
  <li><a href="#a.-satisfying-requirement-1" id="toc-a.-satisfying-requirement-1" class="nav-link" data-scroll-target="#a.-satisfying-requirement-1">a. Satisfying Requirement 1:</a></li>
  <li><a href="#b.-satisfying-requirement-2" id="toc-b.-satisfying-requirement-2" class="nav-link" data-scroll-target="#b.-satisfying-requirement-2">b. Satisfying&nbsp;Requirement 2:</a></li>
  <li><a href="#c.-satisfying-requirement-3" id="toc-c.-satisfying-requirement-3" class="nav-link" data-scroll-target="#c.-satisfying-requirement-3">c.&nbsp;Satisfying Requirement 3:</a></li>
  <li><a href="#d.-dealing-with-the-random-god" id="toc-d.-dealing-with-the-random-god" class="nav-link" data-scroll-target="#d.-dealing-with-the-random-god">d.&nbsp;Dealing with the Random God</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#step-4.-putting-everything-together" id="toc-step-4.-putting-everything-together" class="nav-link" data-scroll-target="#step-4.-putting-everything-together">Step 4. Putting Everything Together</a></li>
  <li><a href="#alternative-solutions" id="toc-alternative-solutions" class="nav-link" data-scroll-target="#alternative-solutions">Alternative Solutions</a>
  <ul class="collapse">
  <li><a href="#i.-a-much-simpler-solution" id="toc-i.-a-much-simpler-solution" class="nav-link" data-scroll-target="#i.-a-much-simpler-solution">I. A Much Simpler Solution:</a></li>
  <li><a href="#ii.-my-original-very-complicated-solution" id="toc-ii.-my-original-very-complicated-solution" class="nav-link" data-scroll-target="#ii.-my-original-very-complicated-solution">II. My Original Very Complicated Solution</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>People often show solutions to a problem without showing their thinking process, just like a magician hiding his/her methods. Instead of knowing the answer, which is no fun at all, I think it’s more important to understand the logical steps that help one reach the answer. After all, this is where the satisfaction of understanding comes from. So I thought it might be helpful to show the paths I took during my attempt to solve this puzzle.</p>
<section id="the-puzzle" class="level1">
<h1>The Puzzle</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://fishlee919.files.wordpress.com/2017/01/7531_021f6dd88a11ca489936ae770e4634ad.png?w=1240" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Missing image</figcaption><p></p>
</figure>
</div>
<p><em>For simplicity, I will denote True, False, Random gods with T, F, and R respectively.</em></p>
<p>I’ve organized and cleaned up my thoughts for better clarity. I will present the version of the solution that felt most natural to me, and explain in the final section both the much simpler solution and the unnecessarily complicated solution I originally came up with in my hurried effort to solve this puzzle.</p>
</section>
<section id="step-1.-an-overall-assessment-of-the-problem" class="level1">
<h1>Step 1. An Overall Assessment of the Problem:</h1>
<p>The first thing I did was to figure out in principle, whether this problem is solvable. There are 6 different orderings for the gods’ positions: “T, F, R”,“T, R, F”, &nbsp;“F, T, R”, “F, R, T”, “R, T, F”, “R, F, T”. This is what we need to figure out. If each question is asked to a different god, then at maximum we have <span class="math inline">\(2^3=8\)</span> different possible answers “da, da, da”, “da, da, ja”, “da, ja, da”, “da, ja, ja”, etc. But R’s answer provides no useful information at all, so R’s “da” and “ja” are not distinguishable. This cuts down the useful information to 4. In other words, we would need to distinguish 6 different outcomes with only 4 different pieces of information (or 2 “bits”). This is impossible!</p>
<p>The assumptions must be wrong. The 6 different positions of gods seem inarguable. So what’s wrong with the second deduction that gives us 4 pieces of info?</p>
<p>To distinguish 6 positions, we must have at least 6 pieces of info. Well, if we ask T or F 3 questions, we know we can&nbsp;get 8 pieces of info since their answers are distinguishable, and a careful reread of the question reveals that indeed it doesn’t prevent us from doing that. Each question to one god, but one god can have multiple questions.</p>
<p>But there seems to be no way for us to avoid R in the first question since we have no information to know who R is. What about avoiding R in the second and third questions? The probability that it will be R that answers the first question is <span class="math inline">\(1/3\)</span>. If we can avoid R during the second and third question, we would get <span class="math inline">\(1/3 * 4+2/3 * 8=6.66666...\)</span> pieces of information, which makes it possible to figure out the 6 different positions! If however,&nbsp;we can only avoid R till the 3rd question, we would have <span class="math inline">\(2/3 * 4+1/3 * 8=5.333... &lt; 6\)</span>, which is not enough to solve the puzzle.</p>
<p><strong>Conclusion: we must be able to <em>at least</em> figure out <em>“who is not R”</em> after the first question, for the puzzle to be solvable!</strong></p>
</section>
<section id="step-2.-general-strategy" class="level1">
<h1>Step 2. General Strategy:</h1>
<p>Let’s do some more deductions to reason out the general strategy. We now know, that the first question should be able to tell us&nbsp;who’s not R. How can that be possibly achieved?</p>
<ol type="1">
<li><p>The answer to the first question can only be “da” or “ja”, 1 bit of information, which we can use to distinguish 2 different things. Conveniently, what we want to find out after question 1 is whether god 2 is not R or god 3 is not R, two things to distinguish. Therefore, we can map the answer “da” to “2 is not R” and “ja” to “3 is not R” or the other way around.</p></li>
<li><p>After we figure out who is not R, we need to ask that god the second question to make sure R is not answering question 2. We can easily duplicate the first question to figure out which one of the other two gods is not R, and therefore combing questions 1 and 2 to figure out the identity of god R.</p></li>
<li><p>That leaves us with one question to figure out T and F. Is that possible to do? If we ask this question to one of the non-random gods, we receive two distinguishable pieces of information, and we need to distinguish two things, so in principle, this is possible. But how does one do it? Let’s say we map “da” to god T, and “fa” to god F, meaning if the answer we receive is “da”, then the god is T, otherwise F. What question would make god T answer “da”, and god F answer “fa”? Since we don’t know the meaning of “da” and “fa”, we have to consider the following two scenarios: “da” means yes, and “da” means no. If “da” is yes, T needs to answer yes, and if “da” is no, T needs to answer no. So the answer to the question depends on whether “da” is yes or no. At this point, it should be obvious, that <strong>the question can simply be “is ‘da’ yes?”</strong> You can check for yourself, that T will always say “da” to this question and F will always say “fa” to this question.</p></li>
</ol>
</section>
<section id="step-3.-deduce-and-construct-question-1" class="level1">
<h1>Step 3. Deduce and Construct Question 1</h1>
<p>Now that we’ve figured out question 3, and question 2 and question 1 are basically the same, we only need to figure out question 1.</p>
<p>So is it possible to choose between the rest of the 2 gods so that we can avoid the R god?</p>
<p>When the first god happens to be R, it doesn’t matter what the answer is, and it doesn’t matter how we choose between the rest of the 2 gods. Therefore, we only need a simple mapping from the 2 possible answers to god 2 and god 3 when the first god is either T or F.</p>
<section id="i.-the-qualities-question-1-needs-to-satisfy" class="level2">
<h2 class="anchored" data-anchor-id="i.-the-qualities-question-1-needs-to-satisfy">I. The Qualities Question 1 Needs to Satisfy:</h2>
<p>Let’s take the mapping of “da” -&gt; “3 is not R” and “ja” -&gt; “2 is not R” as an example to start our reasoning. Since we don’t have to think about god 1=R, either 2 or 3 is R. The mapping reduces to “da” -&gt; “2&nbsp;is R” and “ja” -&gt; “3&nbsp;is R”.</p>
<p>This mapping requirement means no matter who (T or F) this question is asked, if the answer to “is 2 R” is yes, we should always get “da” as the answer, regardless of whether “da” means yes or no. If the answer to “is 2 R” is no, we should always get “ja” as the answer, regardless of what “ja” means.</p>
<p>To break&nbsp;this down further, we have</p>
<p><span class="math display">\[\text{2 is not R} + \left\{ \begin{matrix} \text{da} =\text{yes} \Rightarrow \text{yes (da)}\\ \text{da}=\text{no} \Rightarrow \text{no (da)} \end{matrix}\right.\]</span></p>
<p><span class="math display">\[\text{2 is R} + \left\{ \begin{matrix} \text{da}=\text{yes} \Rightarrow \text{no (ja)}\\ \text{da}=\text{no} \Rightarrow \text{yes (ja)}\end{matrix} \right.\]</span></p>
<ol type="1">
<li><p><strong>Both T and F should give the same yes or no answer so that it doesn’t matter which god is answering the question.</strong></p></li>
<li><p><strong>Whether “da” is yes or no should flip the yes or no answer, so that when “da” means yes, the god says&nbsp;“da” (yes), and when “da” means no, the god also says “da” (no).</strong></p></li>
<li><p><strong>Whether&nbsp;“2 is R” should also flip the yes or no answer, so that “da” flips to “ja”.</strong></p></li>
</ol>
</section>
<section id="ii.-construction-of-the-question" class="level2">
<h2 class="anchored" data-anchor-id="ii.-construction-of-the-question">II. Construction of the Question:</h2>
<section id="a.-satisfying-requirement-1" class="level3">
<h3 class="anchored" data-anchor-id="a.-satisfying-requirement-1">a. Satisfying Requirement 1:</h3>
<p>Let’s look at requirement 1 first:&nbsp;how is it possible to ask a question, such that both gods would give the same answer? Since for most simple questions, T and F would give opposite answers, we need to combine their answers in some way to get agreements. A&nbsp;simple trick that can achieve this immediately comes to mind: <strong>chain T’s answer with R’s answer with an embedded question.</strong></p>
<blockquote class="blockquote">
<p>Note: This was also my downfall.&nbsp;As I will explain later, there’s another way of getting consistent answers between T and F gods that leads to a simpler overall solution. But I was so eager to test out this first strategy&nbsp;that came to my mind, that I didn’t explore other possibilities. Let me now continue my reasoning following this way of constructing&nbsp;the question.</p>
</blockquote>
<p>Still assuming we are only dealing with T and F, we can ask for example: “would the other god (one of T and F) answer yes&nbsp;to the question Q”? Question Q is just an embedded question. I will leave the details of the deduction to the readers, and just say no matter who answers the question (T or F) and who the other god is (F or T), if the truthful answer to Q is yes, then we will get a no answer, and vice versa, because F in the chain would flip the answer once.</p>
</section>
<section id="b.-satisfying-requirement-2" class="level3">
<h3 class="anchored" data-anchor-id="b.-satisfying-requirement-2">b. Satisfying&nbsp;Requirement 2:</h3>
<p>Requirement 2 introduced 2 different scenarios: “da” is yes or “da is no. And depending on which is the case, the answer changes. The solution is very easy, we just compound this element on top of the chaining question we constructed above. Simply change”yes” to “da” (or “ja”) to cover the ambiguity of “da”:&nbsp;“<em>would the other god answer ‘da’ to the question&nbsp;Q</em>”?</p>
<p>When “da”=yes, the above question translates to the original “would the other god answer yes&nbsp;to the question&nbsp;Q”, when “da”=no, it translates to “would the other god answer no to the question&nbsp;Q”. The same chain structure guarantees the same answer between T and F gods as before, but now the answer also flips depending&nbsp;on the meaning of “da”.</p>
</section>
<section id="c.-satisfying-requirement-3" class="level3">
<h3 class="anchored" data-anchor-id="c.-satisfying-requirement-3">c.&nbsp;Satisfying Requirement 3:</h3>
<p>“is 2 R” should also flip the answer, which means we need to incorporate it into our question as well. Well, we haven’t specified what Q is yet. Any simple question can replace Q’s position and still meet requirements 1 and 2, and the truthful answer to this question Q would flip the chain since it changes the starting point of the chain. Therefore, the question now becomes:&nbsp;“<em>would the other god answer ‘da’ to the question ‘is 2 R’</em>”?</p>
<p>Again, I leave&nbsp;the detailed&nbsp;deduction of the answers in different scenarios to the readers.</p>
</section>
<section id="d.-dealing-with-the-random-god" class="level3">
<h3 class="anchored" data-anchor-id="d.-dealing-with-the-random-god">d.&nbsp;Dealing with the Random God</h3>
<p>The question would work, except when we have a random god between 2 and 3, so we can’t simply say “the other god” to automatically pick out T or F from god 2 and god 3. But for our question to work, the answer to the question “is 2 R” has to be consistent and not random.</p>
<p>There’s no way that we can know which one of the other 2 gods is not R before the first question since that’s exactly what the first question is trying to figure out. If we think carefully though, we notice that we don’t need to identify which one of the other 2 gods is not R for our question to work. We only need the answer to be consistent. One way to do that is to combine the answers of the other two gods in such a way that only the non-random god’s answer is taken.</p>
<p>How to combine a consistent answer with a random answer so that the consistent answer is always taken? Well, we can use the phrase “always” to single out the consistent answer.</p>
<p><strong>The question, therefore, becomes:&nbsp;“<em>would at least one of the other 2 gods&nbsp;always answer ‘da’ to the question ‘is 2 R’</em>”?</strong></p>
<!-- ## I. A straight forward solution: -->
</section>
</section>
</section>
<section id="step-4.-putting-everything-together" class="level1">
<h1>Step 4. Putting Everything Together</h1>
<p>Having figured out the first question,&nbsp;the second and the third questions are easy to figure out. Here they are:</p>
<ol type="1">
<li><p><strong>Ask one god:&nbsp;“would&nbsp;at least one of the other 2 gods&nbsp;always answer ‘da’ to the question ‘is 2 the random god’”?</strong> If the answer is “ja”, then go to god 3 to ask the second question, if the answer is “da”, then go to god 2 to ask the second question.</p></li>
<li><p><strong>Ask the second god (god 2 or god 3 depending on the answer of question 1) the same question:&nbsp;“would&nbsp;at least one of the other 2 gods&nbsp;always answer ‘da’ to the question ‘is 2 the random god’”? (Change it to “would&nbsp;at least one of the other 2 gods&nbsp;always answer ‘da’ to the question ‘is 3 the random god’” or&nbsp;“would&nbsp;at least one of the other 2 gods&nbsp;always answer ‘da’ to the question ‘is 1 the random god’” if the second god is god 2.)</strong> If you get “da” as the answer, then the god mentioned in your question is not random, otherwise, between the other two gods, the god not mentioned in your question is not the random one. Therefore, the god left, besides the god you are asking and the god you just figured out as the other non-random god, is the random god.</p></li>
<li><p><strong>Ask one of the non-random gods: “Is ‘da’ yes?”</strong> If you receive “da” as the answer, then the god you are asking is T, otherwise F.</p></li>
</ol>
<hr>
</section>
<section id="alternative-solutions" class="level1">
<h1>Alternative Solutions</h1>
<section id="i.-a-much-simpler-solution" class="level2">
<h2 class="anchored" data-anchor-id="i.-a-much-simpler-solution">I. A Much Simpler Solution:</h2>
<p>As mentioned in Step 3.II.a, there’s another way to achieve requirement 1. Instead of chaining T and R’s answers with each other, we chain them to themselves! After all, F and F double flip is the same as T and T. The question can be asked as “would you answer ‘da’ to the question …”</p>
<p>The good thing about this is that since we don’t need to consider the situation where we are asking the random god, the god we are asking can always be treated as non-random. Therefore, we don’t need to group this god with another god, and the question becomes much simpler:</p>
<p><strong>“Would you say&nbsp;‘da’ to the question ‘is 2 the random god’”?</strong></p>
<p>Notice that this “would you say…” is an embedded question just like before “would the other god say…” It requires the god to answer about his answer to the question.</p>
<p>This dramatically simplifies the solution.</p>
</section>
<section id="ii.-my-original-very-complicated-solution" class="level2">
<h2 class="anchored" data-anchor-id="ii.-my-original-very-complicated-solution">II. My Original Very Complicated Solution</h2>
<p>Besides the other chaining method, I didn’t think about, in my hurried effort to solve this puzzle, I also rushed to get to the end and ended up with a more complicated version of question 1. Instead of asking how the god would answer the question, I was so worried about dealing with the Random god that I also grouped two gods’ answers in constructing question Q. My original first question is unnecessarily more complicated:</p>
<p><strong>“Would at least one of the other 2 gods answer ‘da’ to the question ‘would one of you and god 2 always disagree to the question is da yes’”</strong>?</p>
<p>It should be easy to see that question Q “would one of you and god 2 always disagree about the question ‘is da yes’” really is just asking is “is one of you and god 2 R”? Since T and F would always disagree on the answer to that question. And since we can ignore the case that the god you are asking the question is R, this question simplifies to “is god 2 R”?</p>
<p>I was in the mindset of grouping gods and forgot about the previous deduction that “<em>one does not need to consider the situation that the god you are asking the first question is R</em>”. This shows how important it is to go through the logical deduction steps more carefully.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>